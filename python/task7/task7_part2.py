array = ['......................................................................S......................................................................', '.............................................................................................................................................', '......................................................................^......................................................................', '.............................................................................................................................................', '.....................................................................^.^.....................................................................', '.............................................................................................................................................', '....................................................................^.^.^....................................................................', '.............................................................................................................................................', '...................................................................^.^...^...................................................................', '.............................................................................................................................................', '..................................................................^...^.^.^..................................................................', '.............................................................................................................................................', '.................................................................^.^...^.^.^.................................................................', '.............................................................................................................................................', '................................................................^...^.^.^.^.^................................................................', '.............................................................................................................................................', '...............................................................^.............^...............................................................', '.............................................................................................................................................', '..............................................................^...^.^.^...^.^.^..............................................................', '.............................................................................................................................................', '.............................................................^.^.^...^.....^.^.^.............................................................', '.............................................................................................................................................', '............................................................^...^.^.^...^.^...^.^............................................................', '.............................................................................................................................................', '...........................................................^.^...^.^...^.^.^...^.^...........................................................', '.............................................................................................................................................', '..........................................................^.^.^.^...^...^...^.....^..........................................................', '.............................................................................................................................................', '.........................................................^.^.^.....^.^.^.^...^.....^.........................................................', '.............................................................................................................................................', '........................................................^.^.^.^.^.......^...^.^.^...^........................................................', '.............................................................................................................................................', '.......................................................^.^.^.^.^.^.^.^...^.^.^.^.^.^.^.......................................................', '.............................................................................................................................................', '......................................................^.....^...^.^.^...........^...^.^......................................................', '.............................................................................................................................................', '.....................................................^...^.^.^.^...^.....^.^.^...^...^.^.....................................................', '.............................................................................................................................................', '....................................................^.....^.^.^.^.....^.^.^.^.^.^...^.^.^....................................................', '.............................................................................................................................................', '...................................................^...^.^.^.^.^.^.^...^.^.^.^...^.^.^.^.^...................................................', '.............................................................................................................................................', '..................................................^.^.^.^.^...^.^...^.^...^.^.^.^.^.^...^.^..................................................', '.............................................................................................................................................', '.................................................^...^.....^...^.^.^.^...^.....^.^...^.^...^.................................................', '.............................................................................................................................................', '................................................^.^.^.....^.^.^.^.....^.^.^.^...^.....^.^.^.^................................................', '.............................................................................................................................................', '...............................................^.....^.......^.....^...^.^...^.^.^...^.......^...............................................', '.............................................................................................................................................', '..............................................^.^...^...^.^...^...^...^.^...^.^.^.^...^...^.^.^..............................................', '.............................................................................................................................................', '.............................................^...^...^.^.........^.^...^.^.....^.^.^.^.^.^...^.^.............................................', '.............................................................................................................................................', '............................................^.^.^...^.^.^.^.^...^.^.^...^.^...^.^...^.^.^.^.^.^.^............................................', '.............................................................................................................................................', '...........................................^.....^.........^.^.^.^.^.^.^...^.^.^...^.^.^.^...^...^...........................................', '.............................................................................................................................................', '..........................................^.^.^.....^.......^.^...^.^.^.^.^.^.....^...^.^.^.^.^...^..........................................', '.............................................................................................................................................', '.........................................^.^.^.^.^...^.^.....^.....^.^.^.^.^.^.^...^...^.^.^.^.^.^.^.........................................', '.............................................................................................................................................', '........................................^.^.^...^...^.^.^.^.^.^.^.^...^...^...^.^...^.^...^...^.....^........................................', '.............................................................................................................................................', '.......................................^.^.^.^.^.^.^.^...^.^.^.^.^.^.^.^.....^.^.^.^.^.^.^.........^.^.......................................', '.............................................................................................................................................', '......................................^.^.^.^.^.^.^.^.^.^.^...^.....^.......^.^.^.^.^.^.^.^...^...^...^......................................', '.............................................................................................................................................', '.....................................^.^.^.^.^...^...^.^.......^...^.^.....^...^.^.^.^.^.....^.^.^.^.^.^.....................................', '.............................................................................................................................................', '....................................^.....^.^...^...^.^.^.^.^.^...^.^.^...^.^.^.^.....^...^.^.^.^.^.^...^....................................', '.............................................................................................................................................', '...................................^.....^.^.........^...^.^.^.^.^.^.^...^.^.^...^.^.^.^.^...^.^...^.^...^...................................', '.............................................................................................................................................', '..................................^.^.^.^...^.^.^.^.^...^.^...^.^.^.^.^.....^.^.^.^.^.....^...^.....^.^.^.^..................................', '.............................................................................................................................................', '.................................^.^.........^...^.....^.^...^.^...^.^.^...^.^...^...^.^...^.^.^.^.^.....^.^.................................', '.............................................................................................................................................', '................................^.^...^.^.^.^.^...^...^...............^.....^.....^.^.^.^.^.^.^.^.^.^.....^.^................................', '.............................................................................................................................................', '...............................^.^.^...^.^...^.^.^...^...^.^.....^.^.^...^.^.^.^...^.^.^.^.^.^.^.^.^...^.^.^.^...............................', '.............................................................................................................................................', '..............................^...^.^.^.^.^.^.....^.^.^.^.....^.......^.^.^.^.^...^.^.^.^...^...^...^.^.^.....^..............................', '.............................................................................................................................................', '.............................^.^.^...^.^.^.^.^.^...^...^.^.^.^.^.^...^.^.^.^.^.......^.^.^.^...^.^.^.^...^.^...^.............................', '.............................................................................................................................................', '............................^.....^.^...^.^...^.^.....^.^...^.......^...^.^.....^...^.^...^...^.^.^.....^.^.....^............................', '.............................................................................................................................................', '...........................^...^...^...^.^.......^.....^.^.....^.^.^.^.^...^.^.^.^.....^.^.^...^.^.^.....^...^...^...........................', '.............................................................................................................................................', '..........................^.....^.^.^.......^.^...^.^.^.^.^.^.^.^.^.^.....^.....^.^...^.^...^.^.^...^...^.^.^.^...^..........................', '.............................................................................................................................................', '.........................^.^.^.^.^.^.^.^.^.^...^.....^.^...^.^.^.^.^.^.^.^.^...^.^.^.^.^.^...^.^.^...^.^...^.^.^.^.^.........................', '.............................................................................................................................................', '........................^.^.^...^.^.^...^.^...^.........^.^.^...^.^.^.^.....^.^...^.^.^.^.^...^.^.^...^.^.....^.....^........................', '.............................................................................................................................................', '.......................^.^.^.^...^.^.....^...^.^.^.^.^.^...^.^.^.^.^.^.^.^.^.^.^.^...^.^.....^.......^.^.^.^...^.^...^.......................', '.............................................................................................................................................', '......................^.^...^.^.^.^.....^.^.^.^.^.....^.^...^.^.^.^.^.^.^...^...^.^.^.^...^.....^.^...^.^.^.^.^.^.^.^.^......................', '.............................................................................................................................................', '.....................^.^.^.^.^...^.^...^...^.^...^.^...^.^...^.......^.^.^.^.....^.^...^.^.^.^...^.^.^.^.^.^.^.^...^.^.^.....................', '.............................................................................................................................................', '....................^...^.^.^.....^.^.^.^.^.^.^.^.^.^.^.^.^...^...^.^.^.^.......^...^.....^.^...^...^.^.....^.^.^...^.^.^....................', '.............................................................................................................................................', '...................^.^.^.^.^.^.......^.^.^.......^...^.^.^.^...^.^.^...^.^.^.^...^.^.^.^.....^.^.^.^.^.^...^.^...^.....^.^...................', '.............................................................................................................................................', '..................^.^...^.......^.^.^.^.....^.^...^.^...^...^.^.^.^...^.^.^.^.^.^.^.^.^.^.^.^...^.^...^.^.^.^.^...^.^.^...^..................', '.............................................................................................................................................', '.................^.....^.^...^...^.^.^.^...^.^.^.^...^.......^.^...^...^.^.^.....^.^.^...^.^...^.....^.^...^.^.^.^.^.^.^.^.^.................', '.............................................................................................................................................', '................^.^.^.....^.^.^.^.^.^.^.......^.^.^.....^...^.^...^.^.^.^.^...^.^...^.^.^...^...^.^.^.^...^.^.^.^...^.^.....^................', '.............................................................................................................................................', '...............^...^.^.^.^.^.^...^.^...^...^.^.^.^.^.^.^...^...^.^...............^...^.^.^.^.....^.....^.^.^.^.....^.^...^.^.^...............', '.............................................................................................................................................', '..............^.^...^.^.^.........^.........^...^.^.^.....^.^...^.^.^.^.^.^...^...^.^...^.^.^.^.......^.^...^.....^.^.^.^.^.^.^..............', '.............................................................................................................................................', '.............^.^.^.^...^.^.^.^.^.^.^.^.^.^.^.^...^.^.^...^.^.^.^.....^.^.^.^...^.^.^.^.^...^.^.^.^.^...^.^.^.^.^.^.^.^.^.^.^.^.^.............', '.............................................................................................................................................', '............^.^.^.^...^.^.^.^.^...^...^.....^.^.^.^.^.^.^.^.^.^.^.^.....^.^.^.^.^...^.^.^...^...^.....^.^...^.^.^.^.^.......^...^............', '.............................................................................................................................................', '...........^.....^.^.^.^.....^.^...^.^.^.^.^.....^.^.^...^.^.^...^.^.....^.......^.^.^.....^.^.^.^...^.^.^.^.^.^.^.^.^.^...^...^.^...........', '.............................................................................................................................................', '..........^.^.^.^.........^.^.....^.......^.^...^.^.^.......^.......^.^.^.^.....^.^...^.^...^.^.^.^...^...^.^.^.^.^.^.^...^.^.^.^.^..........', '.............................................................................................................................................', '.........^.^.^...^.^.........^...^.^...^.^.^.^.^.^.^.^.....^.^.^.^...^.^.^...^...^...^.^.^.^.^.^.^.^.^.^.^...^.^...^.^...^.^.^...^.^.........', '.............................................................................................................................................', '........^.^.^.^.^...^.^...^.^.^.^...^.^.^.^.^.....^...^...^.^...^.^...^.^.^.^...^...^.^...^.......^.^.^.^...^.....^...^.^.^.....^.^.^........', '.............................................................................................................................................', '.......^.^.^...^.^.^.....^.^.^.^.....^.....^.^...^.^.^.....^.^...^...........^...^.^.^.^.....^...^.^.^...^.^.^.^.......^.^.^.^.^.....^.......', '.............................................................................................................................................', '......^.^...^.....^.^...^.....^...^...^.^.^.^.^.^.^.^.^.^.^.^.^.....^.^.^...^.^.^...^.^.^.^.^.^.^.^...^.....^.^.....^.^.^.^.^...^...^.^......', '.............................................................................................................................................', '.....^.^.^.^.^.^...^.^.......^.^.^...^...^.^.^.^.^.^.^.....^.^.....^...^.....^.^.^.^...^.^.^.^.^.^.^...^.^.^.^.^.^.^.^...^...^.^.^...^.^.....', '.............................................................................................................................................', '....^.^.^.....^.^...^.^...^.^.......^...^.^.^.^.^.^...^...^.^.^.^.^.^.^.^.^.^.^.^...^.^.^.^.^...^.^.^.^.^.^.^.....^.^...^...^.^.^.^.^.^.^....', '.............................................................................................................................................', '...^.^.......^.^.....^.^.^.^.^...^.^...^.^.^.^.^.^.^.^.^.^.^...^...^.^.^.^.^.....^.^.^...^.^.^...^...^.^.^...^...^.^.^.^...^.^...^.^...^.^...', '.............................................................................................................................................', '..^.....^.^.^...^.........^.....^...^.^.^...^.^.....^...^.^.^.^.^.^...^.........^...^.^...^...^.^...^...^.......^.^.....^.^.......^.^.^...^..', '.............................................................................................................................................', '.^.^...^.....^.^.^.^...^.^.....^.^.^.^.^.^.^.^...^...^.^.......^.^...^.^.....^.^.^...^.....^.^.^.^.^.^.......^.^.^...^.^.^.^.^...^...^.^.^.^.', '.............................................................................................................................................']
#array = ['.......S.......', '...............', '.......^.......', '...............', '......^.^......', '...............', '.....^.^.^.....', '...............', '....^.^...^....', '...............', '...^.^...^.^...', '...............', '..^...^.....^..', '...............', '.^.^.^.^.^...^.', '...............']

rows = len(array)

start_row = 0
start_col = 0
for row in range(rows):
    if 'S' in array[row]:
        start_col = array[row].find('S')
        start_row = row
        break

current_lines = {start_col: 1}
for row in range(start_row + 1, rows):
    next_lines = {}

    for col, count in current_lines.items():
        targets = []
        if array[row][col] == '^':
            targets.append(col - 1)
            targets.append(col + 1)
        else:
            targets.append(col)

        for target_col in targets:
            if target_col in next_lines:
                next_lines[target_col] += count
            else:
                next_lines[target_col] = count

    current_lines = next_lines

answer = sum(current_lines.values())

print(answer)